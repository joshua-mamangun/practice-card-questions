(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(5155);r(2115);var n=r(9708),i=r(2085),o=r(9434);let a=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:r,size:i,asChild:c=!1,...d}=e,l=c?n.DX:"button";return(0,s.jsx)(l,{"data-slot":"button",className:(0,o.cn)(a({variant:r,size:i,className:t})),...d})}},1724:(e,t,r)=>{Promise.resolve().then(r.bind(r,4738))},4738:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var s=r(5155),n=r(285),i=r(6695),o=r(2115),a=r(6101),c=r(6081),d=r(5185),l=r(5845),u=r(5503),f=r(1275),g=r(8905),h=r(3655),m="Checkbox",[p,x]=(0,c.A)(m),[v,b]=p(m);function w(e){let{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:a,form:c,name:d,onCheckedChange:u,required:f,value:g="on",internal_do_not_use_render:h}=e,[p,x]=(0,l.i)({prop:r,defaultProp:null!=i&&i,onChange:u,caller:m}),[b,w]=o.useState(null),[y,k]=o.useState(null),N=o.useRef(!1),j=!b||!!c||!!b.closest("form"),S={checked:p,disabled:a,setChecked:x,control:b,setControl:w,name:d,form:c,value:g,hasConsumerStoppedPropagationRef:N,required:f,defaultChecked:!Q(i)&&i,isFormControl:j,bubbleInput:y,setBubbleInput:k};return(0,s.jsx)(v,{scope:t,...S,children:"function"==typeof h?h(S):n})}var y="CheckboxTrigger",k=o.forwardRef((e,t)=>{let{__scopeCheckbox:r,onKeyDown:n,onClick:i,...c}=e,{control:l,value:u,disabled:f,checked:g,required:m,setControl:p,setChecked:x,hasConsumerStoppedPropagationRef:v,isFormControl:w,bubbleInput:k}=b(y,r),N=(0,a.s)(t,p),j=o.useRef(g);return o.useEffect(()=>{let e=null==l?void 0:l.form;if(e){let t=()=>x(j.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[l,x]),(0,s.jsx)(h.sG.button,{type:"button",role:"checkbox","aria-checked":Q(g)?"mixed":g,"aria-required":m,"data-state":C(g),"data-disabled":f?"":void 0,disabled:f,value:u,...c,ref:N,onKeyDown:(0,d.m)(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,d.m)(i,e=>{x(e=>!!Q(e)||!e),k&&w&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})});k.displayName=y;var N=o.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:n,checked:i,defaultChecked:o,required:a,disabled:c,value:d,onCheckedChange:l,form:u,...f}=e;return(0,s.jsx)(w,{__scopeCheckbox:r,checked:i,defaultChecked:o,disabled:c,required:a,onCheckedChange:l,name:n,form:u,value:d,internal_do_not_use_render:e=>{let{isFormControl:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k,{...f,ref:t,__scopeCheckbox:r}),n&&(0,s.jsx)(A,{__scopeCheckbox:r})]})}})});N.displayName=m;var j="CheckboxIndicator",S=o.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:n,...i}=e,o=b(j,r);return(0,s.jsx)(g.C,{present:n||Q(o.checked)||!0===o.checked,children:(0,s.jsx)(h.sG.span,{"data-state":C(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});S.displayName=j;var T="CheckboxBubbleInput",A=o.forwardRef((e,t)=>{let{__scopeCheckbox:r,...n}=e,{control:i,hasConsumerStoppedPropagationRef:c,checked:d,defaultChecked:l,required:g,disabled:m,name:p,value:x,form:v,bubbleInput:w,setBubbleInput:y}=b(T,r),k=(0,a.s)(t,y),N=(0,u.Z)(d),j=(0,f.X)(i);o.useEffect(()=>{if(!w)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!c.current;if(N!==d&&e){let r=new Event("click",{bubbles:t});w.indeterminate=Q(d),e.call(w,!Q(d)&&d),w.dispatchEvent(r)}},[w,N,d,c]);let S=o.useRef(!Q(d)&&d);return(0,s.jsx)(h.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=l?l:S.current,required:g,disabled:m,name:p,value:x,form:v,...n,tabIndex:-1,ref:k,style:{...n.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function Q(e){return"indeterminate"===e}function C(e){return Q(e)?"indeterminate":e?"checked":"unchecked"}A.displayName=T;let R=(0,r(9946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var E=r(9434);function O(e){let{className:t,...r}=e;return(0,s.jsx)(N,{"data-slot":"checkbox",className:(0,E.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,s.jsx)(S,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(R,{className:"size-3.5"})})})}function z(e){let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,"data-slot":"input",className:(0,E.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var _=r(9249),q=r(1154),I=r(5695);function D(){let e=(0,I.useRouter)(),[t,r]=(0,o.useState)(!1),a=(0,_.A)(),c=(0,o.useRef)(null),[d,l]=(0,o.useState)(!0),[u,f]=(0,o.useState)(60),[g,h]=(0,o.useState)(!0),[m,p]=(0,o.useState)(!0),x=async()=>{try{var t,s;r(!0);let n=null==(s=c.current)||null==(t=s.files)?void 0:t[0];if(!n){alert("Please select a file"),r(!1);return}let i=JSON.parse(await v(n));await a.updateQuestions(i),await a.setIsRandomized(d),await a.updateIsUsingTimer(g,u),await a.setIsShowAnswer(m),e.push("/question")}catch(e){alert("Failed to parse JSON"),r(!1)}finally{}},v=e=>new Promise((t,r)=>{let s=new FileReader;s.onload=e=>{var r;t(null==(r=e.target)?void 0:r.result)},s.onerror=e=>r(e),s.readAsText(e)});return(0,s.jsx)("div",{className:"w-full min-h-screen flex flex-col items-center justify-center p-12 gap-12",children:(0,s.jsxs)(i.Zp,{className:"w-[600px] max-w-full font-poppins",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Practice Card Questions"}),(0,s.jsx)(i.BT,{children:"Upload the questionnaire"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)(z,{ref:c,type:"file",placeholder:"File",accept:".json"}),(0,s.jsxs)("div",{className:"items-center flex flex-row gap-2",children:[(0,s.jsx)(O,{id:"isRandomized",checked:d,onCheckedChange:e=>l(!0===e)}),(0,s.jsx)("label",{htmlFor:"isRandomized",children:"Randomized questions and choices"})]}),(0,s.jsxs)("div",{className:"items-center flex flex-row gap-2",children:[(0,s.jsx)(O,{id:"isUsingTimer",checked:g,onCheckedChange:e=>h(!0===e)}),(0,s.jsx)("label",{htmlFor:"isUsingTimer",children:"Use timer per question:"}),(0,s.jsx)(z,{type:"number",min:5,max:3600,step:1,value:u,className:"w-[80px]",onChange:e=>{var t;return f(Number(null==(t=e.target)?void 0:t.value))}}),(0,s.jsx)("p",{children:"second/s"})]}),(0,s.jsxs)("div",{className:"items-center flex flex-row gap-2",children:[(0,s.jsx)(O,{id:"isShowCorrectAnswer",checked:m,onCheckedChange:e=>p(!0===e)}),(0,s.jsx)("label",{htmlFor:"isShowCorrectAnswer",children:"Show correct answer"})]})]})}),(0,s.jsx)(i.wL,{children:(0,s.jsx)("div",{className:"w-full flex flex-row items-center justify-end",children:(0,s.jsxs)(n.$,{className:"cursor-pointer",disabled:t,onClick:()=>x(),children:[t&&(0,s.jsx)(q.A,{className:"animate-spin"})," Continue"]})})})]})})}},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>a,Zp:()=>i,aR:()=>o,wL:()=>l});var s=r(5155);r(2115);var n=r(9434);function i(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function a(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...r})}function c(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...r})}function d(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...r})}function l(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},9249:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(5453),n=r(6786);let i=(0,s.v)()((0,n.Zr)((e,t)=>({questions:[],isRandomized:!1,isUsingTimer:!1,timer:0,isShowAnswer:!1,currentQuestionNo:1,lastQuestionNoAnswered:0,scores:{correct:0,wrong:0,total:0,categoryScores:[]},dateTimeStart:void 0,dateTimeEnd:void 0,duration:"",noOfAltTabbing:0,noOfRefreshing:0,historyRaw:[],getTimer:()=>t().timer,getIsUsingTimer:()=>t().isUsingTimer,getDuration:()=>t().duration,updateQuestions:t=>e({questions:t,currentQuestionNo:1,isShowAnswer:!1,lastQuestionNoAnswered:0,scores:{correct:0,wrong:0,total:t.length,categoryScores:[]},dateTimeStart:new Date,dateTimeEnd:void 0,duration:""}),setIsRandomized:r=>{e({isRandomized:r}),!0===r&&t().randomized()},randomized:()=>{let r=t().questions;for(let e=0;e<r.length;e++){let t=Math.floor(Math.random()*r.length-e)+e,s=r[e];r[e]=r[t],r[t]=s;let n=r[e].choices;for(let e=0;e<n.length;e++){let t=Math.floor(Math.random()*n.length-e)+e,r=n[e];n[e]=n[t],n[t]=r}}r.sort((e,t)=>e.category.localeCompare(t.category)),e({questions:r})},updateIsUsingTimer:(t,r)=>e({isUsingTimer:t,timer:r}),nextQuestion:()=>{t().currentQuestionNo+1<=t().questions.length&&e({currentQuestionNo:t().currentQuestionNo+1})},getCurrentQuestion:()=>{var e;let{questions:r,currentQuestionNo:s}=t();return null!=(e=r[s-1])?e:{}},getCurrentQuestionNo:()=>t().currentQuestionNo,getScores:()=>t().scores,submitAnswer:r=>{if(t().currentQuestionNo===t().lastQuestionNoAnswered)return;let s=t().questions[t().currentQuestionNo-1],n=s.choices[r].isCorrect;n?e({scores:{...t().scores,correct:t().scores.correct+1}}):e({scores:{...t().scores,wrong:t().scores.wrong+1}}),t().scores.categoryScores.some(e=>e.label===s.category)||e({scores:{...t().scores,categoryScores:[...t().scores.categoryScores,{label:s.category,correct:0,wrong:0,total:0}]}}),e({scores:{...t().scores,categoryScores:t().scores.categoryScores.map(e=>e.label!==s.category?e:{...e,correct:n?e.correct+1:e.correct,wrong:n?e.wrong:e.correct-1,total:e.total+1})}}),e({lastQuestionNoAnswered:t().currentQuestionNo}),t().currentQuestionNo===t().questions.length&&(e({dateTimeEnd:new Date}),t().calculateDuration(),t().addToHistory())},calculateDuration:()=>{let r=t().dateTimeStart,s=t().dateTimeEnd;if(void 0===r||void 0===s)return;let n=Math.floor((s.getTime()-r.getTime())/1e3),i=Math.floor(n/3600),o=Math.floor(n%3600/60);e({duration:"".concat(i,"h ").concat(o,"m ").concat(n%60,"s")})},isLastAnsweredQuestionSameAsCurrent:()=>t().currentQuestionNo===t().lastQuestionNoAnswered,getIsShowAnswer:()=>t().isShowAnswer,setIsShowAnswer:t=>e({isShowAnswer:t}),isDone:()=>t().currentQuestionNo===t().questions.length&&t().currentQuestionNo===t().lastQuestionNoAnswered,restart:()=>e({currentQuestionNo:1,lastQuestionNoAnswered:0,scores:{...t().scores,correct:0,wrong:0,categoryScores:[]},dateTimeStart:new Date,dateTimeEnd:void 0,duration:"",noOfAltTabbing:0,noOfRefreshing:0}),incrementAltTabbing:()=>{e({noOfAltTabbing:t().noOfAltTabbing+1})},incrementRefreshing:()=>{e({noOfRefreshing:t().noOfRefreshing+1})},addToHistory:()=>{let r=Object.fromEntries(Object.entries(t()).filter(e=>"function"!=typeof e[1]));e({historyRaw:[...t().historyRaw,JSON.stringify(r)]})}}),{name:"questionnaire-store"}))},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(2596),n=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[241,404,441,684,358],()=>t(1724)),_N_E=e.O()}]);